{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dalan\\\\DemoDownload\\\\project3\\\\client\\\\src\\\\components\\\\login-form.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: '',\n      credits: undefined,\n      redirectTo: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log('handleSubmit');\n    var userObject = {\n      username: this.state.username,\n      password: this.state.password,\n      credits: this.state.credits\n    };\n    axios.post('http://localhost:3001/user/login', userObject).then(response => {\n      console.log('login response: ');\n      console.log(response);\n\n      if (response.status === 200) {\n        // update App.js state\n        this.props.updateUser({\n          loggedIn: true,\n          username: response.data.username\n        }); // update the state to redirect to home\n\n        this.setState({\n          redirectTo: '/'\n        }, () => {\n          var userObject = {\n            username: this.state.username,\n            password: this.state.password,\n            credits: this.state.credits\n          };\n          localStorage.setItem('userObject', JSON.stringify(userObject));\n        });\n      } else {\n        this.setState({\n          redirectTo: '/signup'\n        });\n      }\n    }).catch(error => {\n      console.log('login error: ');\n      console.log(error);\n    });\n  }\n\n  render() {\n    if (this.state.redirectTo) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: this.state.redirectTo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Login Page\")), React.createElement(Form.Group, {\n        controlId: \"formBasicEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(Form.Control, {\n        type: \"username\",\n        placeholder: \"Enter email\",\n        id: \"username\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formBasicPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Form.Control, {\n        placeholder: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }))), React.createElement(Button, {\n        onClick: this.handleSubmit,\n        variant: \"dark\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n\n    ;\n  }\n\n}\n\n;\nexport default LoginForm;","map":{"version":3,"sources":["C:\\Users\\dalan\\DemoDownload\\project3\\client\\src\\components\\login-form.js"],"names":["React","Component","Redirect","axios","Form","Col","Button","LoginForm","constructor","state","username","password","credits","undefined","redirectTo","handleSubmit","bind","handleChange","event","setState","target","name","value","preventDefault","console","log","userObject","post","then","response","status","props","updateUser","loggedIn","data","localStorage","setItem","JSON","stringify","catch","error","render","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\n\nclass LoginForm extends Component {\n    constructor() {\n        super()\n        this.state = {\n            username: '',\n            password: '',\n            credits: undefined,\n            redirectTo: null\n        }\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleChange = this.handleChange.bind(this)\n    };\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };\n\n    handleSubmit(event) {\n        event.preventDefault()\n        console.log('handleSubmit')\n        var userObject = {\n            username: this.state.username,\n            password: this.state.password,\n            credits: this.state.credits\n        };\n        axios\n            .post('http://localhost:3001/user/login', userObject)\n            .then(response => {\n                console.log('login response: ')\n                console.log(response)\n                if (response.status === 200) {\n                    // update App.js state\n                    this.props.updateUser({\n                        loggedIn: true,\n                        username: response.data.username\n                    })\n                    // update the state to redirect to home\n                    this.setState({\n                        redirectTo: '/'\n                    }, () => {\n                        var userObject = {\n                            username: this.state.username,\n                            password: this.state.password,\n                            credits: this.state.credits\n                        }\n                        localStorage.setItem('userObject', JSON.stringify(userObject))\n                    })\n                }\n                else {\n                    this.setState({\n                        redirectTo: '/signup'\n                    })\n                }\n            }).catch(error => {\n                console.log('login error: ')\n                console.log(error);\n            });\n    };\n\n    render() {\n        if (this.state.redirectTo) {\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\n        } else {\n            return (\n                <div>\n                    <Form>\n                        <Col sm={5}>\n                            <Card>\n                                <Card.Title>\n                                    Login Page\n                                </Card.Title>\n                            </Card>\n                            <Form.Group controlId=\"formBasicEmail\">\n                                <Form.Label>Email address</Form.Label>\n                                <Form.Control\n                                    type=\"username\"\n                                    placeholder=\"Enter email\"\n                                    id=\"username\"\n                                    name=\"username\"\n                                    value={this.state.username}\n                                    onChange={this.handleChange} />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formBasicPassword\">\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control\n                                    placeholder=\"Password\"\n                                    type=\"password\"\n                                    name=\"password\"\n                                    value={this.state.password}\n                                    onChange={this.handleChange}\n                                />\n                            </Form.Group>\n                        </Col>\n                        <Button onClick={this.handleSubmit} variant=\"dark\" type=\"submit\">\n                            Submit\n  \t\t\t\t\t\t</Button>\n                    </Form>\n                </div>\n            );\n        };\n    };\n};\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}